<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ASIP Designer Processor Modeling | Yuchao's Homepage</title><meta name="author" content="Worldline22"><meta name="copyright" content="Worldline22"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="A guide to ASIP design process modeling, including  seven sessions illustrations.">
<meta property="og:type" content="article">
<meta property="og:title" content="ASIP Designer Processor Modeling">
<meta property="og:url" content="http://example.com/2025/07/02/asip_design_tool/asip_training_processor_modeling/index.html">
<meta property="og:site_name" content="Yuchao&#39;s Homepage">
<meta property="og:description" content="A guide to ASIP design process modeling, including  seven sessions illustrations.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png">
<meta property="article:published_time" content="2025-07-03T00:00:00.000Z">
<meta property="article:modified_time" content="2025-07-03T19:58:43.340Z">
<meta property="article:author" content="Worldline22">
<meta property="article:tag" content="ASIP design">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/07/02/asip_design_tool/asip_training_processor_modeling/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ASIP Designer Processor Modeling',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-03 12:58:43'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/transpancy.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/image/profile.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Menu</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/life/"><i class="fa-fw fas fa-coffee"></i><span> Life</span></a></li><li><a class="site-page child" href="/science/"><i class="fa-fw fas fa-atom"></i><span> Research</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Photo</span></a></li><li><a class="site-page child" href="/pku/"><i class="fa-fw fas fa-book-open"></i><span> 学在北大</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Yuchao's Homepage"><img class="site-icon" src="/image/test.gif"/><span class="site-name">Yuchao's Homepage</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Menu</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/life/"><i class="fa-fw fas fa-coffee"></i><span> Life</span></a></li><li><a class="site-page child" href="/science/"><i class="fa-fw fas fa-atom"></i><span> Research</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Photo</span></a></li><li><a class="site-page child" href="/pku/"><i class="fa-fw fas fa-book-open"></i><span> 学在北大</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ASIP Designer Processor Modeling</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-07-03T00:00:00.000Z" title="发表于 2025-07-02 17:00:00">2025-07-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-07-03T19:58:43.340Z" title="更新于 2025-07-03 12:58:43">2025-07-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Computer-Architecture/">Computer Architecture</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ASIP Designer Processor Modeling"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Why-and-How-to-Design-an-ASIP"><a href="#Why-and-How-to-Design-an-ASIP" class="headerlink" title="Why and How to Design an ASIP?"></a>Why and How to Design an ASIP?</h2><p>Application-Specific Instruction-set Processors (ASIPs) bridge the gap between general-purpose microprocessors and dedicated hardware, offering:</p>
<ul>
<li>Maximum performance</li>
<li>Minimal power consumption</li>
<li>Programmability</li>
</ul>
<p>The core steps in ASIP design include:</p>
<ul>
<li><strong>Modeling the Instruction Set Architecture (ISA):</strong> Using the nML language to define the processor’s structure.</li>
<li><strong>Automatic Software Development Kit (SDK) Generation:</strong> Produces a C compiler and related tools.</li>
<li><strong>Algorithm-Driven Architectural Exploration:</strong> Utilizes a “Compile-in-the-Loop” approach to optimize the architecture.</li>
<li><strong>Automatic Synthesizable RTL Generation:</strong> Employs a “Synthesis-in-the-Loop” methodology for hardware implementation.</li>
</ul>
<p><img src="/image/img_asip_design/intro_asip_design_overview.png" alt="ASIP Design Overview"></p>
<h2 id="Processor-Modeling"><a href="#Processor-Modeling" class="headerlink" title="Processor Modeling"></a>Processor Modeling</h2><h3 id="Header-File"><a href="#Header-File" class="headerlink" title="Header File"></a>Header File</h3><p>The core header file, <code>&lt;processor&gt;.h</code>, defines primitive functions and data types within a dedicated namespace: <code>namespace &lt;processor&gt;_primitive &#123;&#125;</code>. It should include:</p>
<ul>
<li>Primitive data type definitions</li>
<li>Primitive function declarations</li>
<li>Primitive data type conversion rules</li>
</ul>
<p>Additional header files, such as <code>&lt;processor&gt;_&lt;function&gt;.h</code>, can be created to extend functionality with more operations or features.</p>
<h3 id="nML-Language"><a href="#nML-Language" class="headerlink" title="nML Language"></a>nML Language</h3><p>The nML language defines the structural skeleton and instruction-set architecture of the processor. Key components include:</p>
<ul>
<li><code>mem</code>: Defines memory spaces.</li>
<li><code>reg</code>: Specifies register structures.</li>
<li><code>pipe</code>: Stores values across pipeline stages (persistent).</li>
<li><code>trn</code>: Holds temporary values within a single stage.</li>
<li><code>opn</code>: Represents operation nodes.</li>
<li><code>cst</code>: Declares type conversion rules.</li>
<li><code>action</code>: Defines instruction behavior.</li>
<li><code>image</code>: Specifies binary encoding for instructions.</li>
<li><code>syntax</code>: Defines the assembly code representation.</li>
</ul>
<p>Example nML code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">opn alu_inst (op:opcode, x:c2u, y:c2u, val:c16s) &#123;</span><br><span class="line">  action &#123;</span><br><span class="line">    stage EX1:</span><br><span class="line">    A = R[x];</span><br><span class="line">    B = val;</span><br><span class="line">    switch (op) &#123;</span><br><span class="line">      case add: C = add(A, B) @alu;</span><br><span class="line">      case sub: C = sub(A, B) @alu;</span><br><span class="line">      case and: C = band(A, B) @alu;</span><br><span class="line">      case or:  C = bor(A, B) @alu;</span><br><span class="line">    &#125;</span><br><span class="line">    stage EX2:</span><br><span class="line">    R[y] = C;</span><br><span class="line">  &#125;</span><br><span class="line">  syntax: op &quot; R&quot; y &quot;, R&quot; x &quot;, &quot; val; # Displays as &lt;add R1, R2, val&gt;</span><br><span class="line">  image: &quot;0&quot;::op::x::y::val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="Primitive-Definitions"><a href="#Primitive-Definitions" class="headerlink" title="Primitive Definitions"></a>Primitive Definitions</h3><p>Primitive definitions, written in <code>&lt;processor&gt;.p</code> files, use the Primitive Definition Language (PDG), which is based on C and supports operators, conditions, iterations, and functions with fixed types. PDG definitions are convertible to C++, VHDL, or Verilog.</p>
<p>Example PDG code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">word add(word a, word b, astat&amp; s)</span><br><span class="line">&#123;</span><br><span class="line">  int17_t aa = (uint16_t)a; // Zero extension</span><br><span class="line">  int17_t bb = (uint16_t)b;</span><br><span class="line">  int17_t d = aa + bb;</span><br><span class="line">  s = (d[16]^d[15]) :: (d &lt; 0) :: (d == 0);</span><br><span class="line">  return d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ASIP-Designer-Tool-Features"><a href="#ASIP-Designer-Tool-Features" class="headerlink" title="ASIP Designer Tool Features"></a>ASIP Designer Tool Features</h2><h3 id="ChessDE"><a href="#ChessDE" class="headerlink" title="ChessDE"></a>ChessDE</h3><p>The ChessDE tool, typically run on Linux via command line, offers:</p>
<ul>
<li>Configuration management</li>
<li>Function-level incremental compilation</li>
<li>Parallel compilation on multi-core hosts</li>
</ul>
<p>For Instruction Set Simulator (ISS) development, it supports:</p>
<ul>
<li>Bit-true, cycle-accurate, or instruction-accurate simulation</li>
<li>Just-in-time compilation</li>
<li>Performance and speed profiling</li>
<li>Automatic verification</li>
</ul>
<h1 id="Primitives"><a href="#Primitives" class="headerlink" title="Primitives"></a>Primitives</h1><h2 id="Declaring-Primitives"><a href="#Declaring-Primitives" class="headerlink" title="Declaring Primitives"></a>Declaring Primitives</h2><p>Primitive types are defined using C++-style class declarations within a namespace, formatted as <code>class &lt;type&gt; property(format)</code>. Example:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> tinycore2_primitive &#123;</span><br><span class="line">  <span class="function"><span class="keyword">class</span> word <span class="title">property</span><span class="params">(<span class="number">16</span> bit <span class="type">signed</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">class</span> pmtype <span class="title">property</span><span class="params">(<span class="number">13</span> bit <span class="type">unsigned</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">class</span> sbyte <span class="title">property</span><span class="params">(<span class="number">8</span> bit <span class="type">signed</span>)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Primitive functions represent user-defined behaviors and are categorized into:</p>
<ul>
<li><strong>Named Functions:</strong> Standard function declarations.</li>
<li><strong>Conversion Constructors:</strong> Handle type conversions, such as numbers or vectors.</li>
</ul>
<p>Example conversion:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sint8</span>(sin8)    <span class="comment">// xxxxxxxx -&gt; ssssssssxxxxxxxx</span></span><br><span class="line"><span class="built_in">vword3</span>(vbyte3) <span class="comment">// __ef __10 __ab -&gt; ffef 0010 ffab</span></span><br></pre></td></tr></table></figure>

<p>Example primitive function declaration:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> mycore_primitive &#123;</span><br><span class="line">  <span class="function"><span class="keyword">class</span> stat <span class="title">property</span><span class="params">(<span class="number">3</span> bit <span class="type">unsigned</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function">word <span class="title">sub</span><span class="params">(word, word)</span></span>;</span><br><span class="line">  <span class="function">word <span class="title">sub</span><span class="params">(word, word, stat&amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">word</span> &#123;</span><br><span class="line">    <span class="built_in">word</span>(sbyte);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="Primitive-Definitions-1"><a href="#Primitive-Definitions-1" class="headerlink" title="Primitive Definitions"></a>Primitive Definitions</h2><p>Primitive definitions, written in PDG (based on C), exclude control flow primitives and type conversions. PDG supports C-like operations and control flows. Example:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int16_t</span> INT16_MAX = <span class="number">0x7fff</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int16_t</span> INT16_MIN = <span class="number">-0x8000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">word <span class="title">sat16</span><span class="params">(<span class="type">int17_t</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a &gt; INT16_MAX)</span><br><span class="line">    <span class="keyword">return</span> INT16_MAX;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; INT16_MIN)</span><br><span class="line">    <span class="keyword">return</span> INT16_MIN;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">word <span class="title">adds</span><span class="params">(word a, word b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="type">int17_t</span> sum = (<span class="type">int17_t</span>)a + (<span class="type">int17_t</span>)b;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">sat16</span>(sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The PDG tool structure is illustrated below:<br><img src="/image/img_asip_design/PDG_tool.png" alt="PDG Tool Structure"></p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Primitives consist of data types and functions, organized into:</p>
<ul>
<li><strong>Declaration:</strong> Defined in <code>&lt;processor&gt;.h</code></li>
<li><strong>Definition:</strong> Implemented in <code>&lt;processor&gt;.p</code></li>
</ul>
<p>These files collectively enable the modeling, simulation, and synthesis of ASIP designs using the ASIP Designer Tool.</p>
<h1 id="nML"><a href="#nML" class="headerlink" title="nML"></a>nML</h1><h2 id="Key-Features"><a href="#Key-Features" class="headerlink" title="Key Features"></a>Key Features</h2><p>Retargeting of the ASIP Designer tools is achieved though a single model of the processor in the nML processor description language. It has three main properties:</p>
<ul>
<li>Hierarchical: the ISA is captured as a hierarchy of rules.</li>
<li>Structural: processor resources and their connectivity are modelled explicitly.</li>
<li>RT-level: the behavior of instructions is modelled as register transfers.</li>
</ul>
<p>And the nML defines data path and instruction set + RT behavior to model the processor.</p>
<h2 id="Structural-Skeleton"><a href="#Structural-Skeleton" class="headerlink" title="Structural Skeleton"></a>Structural Skeleton</h2><h3 id="Register"><a href="#Register" class="headerlink" title="Register"></a>Register</h3><p>The register declaration shows as:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">reg</span> name[size] &lt;data-<span class="keyword">type</span>, addr-<span class="keyword">type</span>&gt;;  <span class="comment">// reg. file</span></span><br><span class="line"><span class="keyword">reg</span> name&lt;data-<span class="keyword">type</span>&gt;;  <span class="comment">// single register</span></span><br></pre></td></tr></table></figure>

<p>For registers it can has alias, record alias and record structure. For alias we can cut one register file into smaller files or single register. it shows as:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Syntax</span></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">alias</span>-name[size] &lt;…&gt; <span class="keyword">alias</span> parent-name[offset]…;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> R[<span class="number">8</span>]&lt;word,b3u&gt;;</span><br><span class="line"><span class="keyword">reg</span> S[<span class="number">4</span>]&lt;word,b2u&gt; <span class="keyword">alias</span> R[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">reg</span> T[<span class="number">2</span>]&lt;word,b1u&gt; <span class="keyword">alias</span> R[<span class="number">6</span>];</span><br><span class="line"><span class="keyword">reg</span> sp&lt;word&gt; <span class="keyword">alias</span> S[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<p>For the resgiter record alias, it can access two consecutice fields of R as a single long word. For record structure, it conbine narrow storages into wide storage. Their cna be showed as:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// record alias syntax</span></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">alias</span>-name[size] &lt;…&gt; <span class="keyword">alias</span> parent-name …;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> R[<span class="number">8</span>]&lt;word,b3u&gt;;</span><br><span class="line"><span class="keyword">reg</span> L[<span class="number">4</span>]&lt;longword,b2u&gt; <span class="keyword">alias</span> R; <span class="comment">//  2-word record alias</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// record syntax</span></span><br><span class="line"><span class="keyword">reg</span> name[size] &lt;...&gt; &#123; elem1; elem2; ... &#125;...;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> R[<span class="number">8</span>]&lt;word,b3u&gt;;</span><br><span class="line"><span class="keyword">reg</span> S[<span class="number">8</span>]&lt;<span class="keyword">byte</span>,b3u&gt;;</span><br><span class="line"><span class="keyword">reg</span> T[<span class="number">8</span>]&lt;w24,b3u&gt; &#123; R; S; &#125;;</span><br></pre></td></tr></table></figure>
<p>this is graph</p>
<div class="img-row">
  <img src="/image/img_asip_design/reg_range_alias.png" class="img-fixed-height" />
  <img src="/image/img_asip_design/reg_record_alias.png" class="img-fixed-height" />
  <img src="/image/img_asip_design/reg_record_stru.png" class="img-fixed-height" />
</div>

<h3 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h3><p>Memories are static storage elements: memory locations retain their value until a new value is written. The simple memory declaration are easy to understand. They have the format like:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// syntax</span></span><br><span class="line">mem name[size,step-opt] &lt;data-<span class="keyword">type</span>,addr-<span class="keyword">type</span>&gt;;</span><br><span class="line">mem name[from.<span class="variable">.to</span>,step-opt] &lt;data-<span class="keyword">type</span>,addr-<span class="keyword">type</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// examples</span></span><br><span class="line">mem PM[dmSize] &lt;pmtype, word&gt; read(pmLdBus);</span><br><span class="line">mem DM[dmSize] &lt;word, word&gt; read(dmLdBus) write(dmStBus);</span><br></pre></td></tr></table></figure>

<p>Besides the memory declaration, we need to declare the explicit memory interface. The I&#x2F;O interface contains:</p>
<ul>
<li>Read and Write transitories: <code>dmLdBus</code> and <code>dmStBus</code></li>
<li>Address Transitories: <code>dmAddr</code></li>
<li>Control Signals: <code>ld_dm</code> and <code>st_dm</code></li>
<li>Timing annotations: relative to control signal `1`</li>
</ul>
<p>The example show as:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mem DM[dmSize]&lt;word,word&gt; access &#123;</span><br><span class="line">  ld_dm: dmLdBus‘<span class="number">1</span>‘ = DM[dmAddr];</span><br><span class="line">  st_dm: DM[dmAddr] = dmStBus;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><img src="/image/img_asip_design/mem_interface.png" alt="memory interface"></p>
<p>The memory also need to pay attention to its timing. The timing be either be specified as absolute stages and relative timing using integers. They show as:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dmLdBus‘EX‘ = DM[dmAddr`ID`]`EX`; <span class="comment">// absolute timing</span></span><br><span class="line">dmLdBus‘<span class="number">1</span>‘ = DM[dmAddr]`<span class="number">1</span>`; <span class="comment">// relative timing</span></span><br></pre></td></tr></table></figure>

<p>Lastly we need to define the memory structure. The memory record alias access consecutive fields of memory as a single long value. There are two main ways to map the vectors:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// aligned access</span></span><br><span class="line">mem bDM[<span class="number">1024</span>,<span class="number">1</span>]&lt;<span class="keyword">byte</span>,addr&gt;; </span><br><span class="line">mem wDM[<span class="number">1024</span>,<span class="number">2</span>]&lt;word,addr&gt; <span class="keyword">alias</span> bDM; </span><br><span class="line">mem lDM[<span class="number">1024</span>,<span class="number">4</span>]&lt;longword,addr&gt; <span class="keyword">alias</span> bDM; </span><br><span class="line"></span><br><span class="line"><span class="comment">// unaligned access</span></span><br><span class="line">mem bDM[<span class="number">1024</span>,<span class="number">1</span>]&lt;<span class="keyword">byte</span>,addr&gt;; </span><br><span class="line">mem wDMu[<span class="number">0</span>.<span class="variable">.1022</span>,<span class="number">1</span>]&lt;word,addr&gt; <span class="keyword">alias</span> bDM align <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p><img src="/image/img_asip_design/mem_align.png" alt="memory map strategies"></p>
<h3 id="Transitory"><a href="#Transitory" class="headerlink" title="Transitory"></a>Transitory</h3><p>Transitories are transitory storage elements: transitories lose their value before the end of the clock cycle. It must be read in the same stage as it is written. And please notice not to bring hardware conflicts (multi-source to one transitory). It can also realize combination that allow two narrow transitories into wide transitory.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// syntax</span></span><br><span class="line">trn name&lt;data-<span class="keyword">type</span>.</span><br><span class="line">trn name&lt;...&gt; &#123; tr1, tr2; ... &#125; ...;</span><br><span class="line"></span><br><span class="line"><span class="comment">//example</span></span><br><span class="line">trn Xbus&lt;word&gt;;</span><br><span class="line">trn Ybus&lt;word&gt;;</span><br><span class="line">trn XYbus&lt;longword&gt; &#123; Xbus; Ybus; &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Pipeline-Register"><a href="#Pipeline-Register" class="headerlink" title="Pipeline Register"></a>Pipeline Register</h3><p>Pipeline registers are transitory storage elements: pipeline registers lose their value after the end<br>of the clock cycle. It must be read in the stage following the one where it is written. It show as <code>pipe pA&lt;word&gt;</code></p>
<h3 id="Enueration-Type"><a href="#Enueration-Type" class="headerlink" title="Enueration Type"></a>Enueration Type</h3><p>This grammar is very similar to C. It can de declared as:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//syntax</span></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">type</span>-name &#123; name1, name2, … &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//example</span></span><br><span class="line"><span class="keyword">enum</span> alu_op &#123;ADD “ + ”, SUB “ - ”, AND “ &amp; ”, OR “ | ”&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Constants"><a href="#Constants" class="headerlink" title="Constants"></a>Constants</h3><ul>
<li>Number declarations (define a name for an integer number)</li>
<li>Immediate and hardwired constants<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def size = <span class="number">2</span>**<span class="number">16</span>;</span><br><span class="line">mem DM[size]&lt;num,addr&gt;;</span><br><span class="line"></span><br><span class="line">cst c_byte&lt;<span class="keyword">byte</span>&gt;;</span><br><span class="line">cst c_3u&lt;threebitsu&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Property"><a href="#Property" class="headerlink" title="Property"></a>Property</h3><p>nML Processor Properties can identify storage elements with special meaning and provide additional information on processor behaviour.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">properties &#123;</span><br><span class="line">  program_memory : PM;</span><br><span class="line">  program_counter : PC;</span><br><span class="line">  endianness : little;</span><br><span class="line">  decode_stage : ID;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">property</span> unconnected : REGX;</span><br></pre></td></tr></table></figure>

<h2 id="Instruction-Set"><a href="#Instruction-Set" class="headerlink" title="Instruction Set"></a>Instruction Set</h2><h3 id="OR-rules"><a href="#OR-rules" class="headerlink" title="OR rules"></a>OR rules</h3><p>OR rules means alternatives for part of an instruction:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">opn tinycore2 (alu_opn | compare_opn | ... | generate_byte)</span><br><span class="line">&#123;</span><br><span class="line">  image : “<span class="number">000000</span>”::alu_opn</span><br><span class="line">        | “<span class="number">000001</span>”::compare_opn</span><br><span class="line">        ...</span><br><span class="line">        | “<span class="number">100</span>”::generate_byte;</span><br><span class="line">&#125;</span><br><span class="line">opn control_opn (cjump | ujump | bsr | rts | nop);</span><br></pre></td></tr></table></figure>

<h3 id="AND-Rules"><a href="#AND-Rules" class="headerlink" title="AND Rules"></a>AND Rules</h3><p>AND rules describe the composition of instruction parts. The parameters are orthogonal parts of the AND rule. Its attributes include:</p>
<ul>
<li>action attribute: register-transfer behavior. Register transfers must be complete: operands read from and results written to static storage </li>
<li>syntax atribute: assembly language</li>
<li>image attribute: instruction encoding</li>
</ul>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> alu_op &#123;ADD ” + ”, SUB ” - ”, AND ” &amp; ”, OR ” | ” &#125;;</span><br><span class="line"><span class="keyword">enum</span> eR &#123; r0, r1, r2, r3, r4, r5, lnk, sp &#125;;</span><br><span class="line"></span><br><span class="line">opn alu_opn (op : alu_op, a : eR, b : eR)</span><br><span class="line">&#123;</span><br><span class="line">  action &#123;</span><br><span class="line">    aluA = R[a];</span><br><span class="line">    aluB = R[b];</span><br><span class="line">    switch (op) &#123;</span><br><span class="line">      <span class="keyword">case</span> ADD : aluC = add (aluA, aluB);</span><br><span class="line">      <span class="keyword">case</span> SUB : aluC = sub (aluA, aluB);</span><br><span class="line">      <span class="keyword">case</span> AND : aluC = band(aluA, aluB);</span><br><span class="line">      <span class="keyword">case</span> OR : aluC = bor (aluA, aluB);</span><br><span class="line">    &#125;</span><br><span class="line">    R[a] = aluC; <span class="comment">// read-modify-write</span></span><br><span class="line">  &#125;</span><br><span class="line">  syntax : a ” = ” a op b; <span class="comment">// for example: r1 = r1 - sp</span></span><br><span class="line">  image : op::a::b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And it can also realize other rules such as a parallel instruction:</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">opn alu_opn ( … ) &#123; … &#125;</span><br><span class="line">opn load_indirect ( … ) &#123; … &#125;</span><br><span class="line"></span><br><span class="line">opn alu_load (op: alu_opn, ld: load_indirect)</span><br><span class="line">&#123;</span><br><span class="line">  action &#123; </span><br><span class="line">    op; </span><br><span class="line">    ld;</span><br><span class="line">  &#125;</span><br><span class="line">  syntax : op ” || ” ld; </span><br><span class="line">  image : op::ld;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Describing-pipelines"><a href="#Describing-pipelines" class="headerlink" title="Describing pipelines"></a>Describing pipelines</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Worldline22</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/07/02/asip_design_tool/asip_training_processor_modeling/">http://example.com/2025/07/02/asip_design_tool/asip_training_processor_modeling/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Yuchao's Homepage</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ASIP-design/">ASIP design</a></div><div class="post_share"><div class="social-share" data-image="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2025/07/01/asip_design_tool/Introduction_to_asip_design/" title="Overview of ASIP design tool"><img class="cover" src="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Overview of ASIP design tool</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2025/07/01/asip_design_tool/Introduction_to_asip_design/" title="Overview of ASIP design tool"><img class="cover" src="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-01</div><div class="title">Overview of ASIP design tool</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Valine</span><span id="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/image/profile.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Worldline22</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/worldline22"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/worldline22" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:qinyuchao22@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #D44638;"></i></a><a class="social-icon" href="/image/myweixin.png" target="_blank" title="Wechat"><i class="fab fa-weixin" style="color: #7BB32E;"></i></a><a class="social-icon" href="https://x.com/worldline22" target="_blank" title="Twitter"><i class="fab fa-twitter" style="color: #1da1f2;"></i></a><a class="social-icon" href="https://www.facebook.com/profile.php?id=61561687587707" target="_blank" title="Facebook"><i class="fab fa-facebook" style="color: #3b5998;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Happy Chinese new year! 🎉🎉🎉</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Why-and-How-to-Design-an-ASIP"><span class="toc-number">1.1.</span> <span class="toc-text">Why and How to Design an ASIP?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Processor-Modeling"><span class="toc-number">1.2.</span> <span class="toc-text">Processor Modeling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Header-File"><span class="toc-number">1.2.1.</span> <span class="toc-text">Header File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nML-Language"><span class="toc-number">1.2.2.</span> <span class="toc-text">nML Language</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Primitive-Definitions"><span class="toc-number">1.2.3.</span> <span class="toc-text">Primitive Definitions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ASIP-Designer-Tool-Features"><span class="toc-number">1.3.</span> <span class="toc-text">ASIP Designer Tool Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ChessDE"><span class="toc-number">1.3.1.</span> <span class="toc-text">ChessDE</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Primitives"><span class="toc-number">2.</span> <span class="toc-text">Primitives</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Declaring-Primitives"><span class="toc-number">2.1.</span> <span class="toc-text">Declaring Primitives</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Primitive-Definitions-1"><span class="toc-number">2.2.</span> <span class="toc-text">Primitive Definitions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">2.3.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nML"><span class="toc-number">3.</span> <span class="toc-text">nML</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Key-Features"><span class="toc-number">3.1.</span> <span class="toc-text">Key Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Structural-Skeleton"><span class="toc-number">3.2.</span> <span class="toc-text">Structural Skeleton</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Register"><span class="toc-number">3.2.1.</span> <span class="toc-text">Register</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Memory"><span class="toc-number">3.2.2.</span> <span class="toc-text">Memory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transitory"><span class="toc-number">3.2.3.</span> <span class="toc-text">Transitory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pipeline-Register"><span class="toc-number">3.2.4.</span> <span class="toc-text">Pipeline Register</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Enueration-Type"><span class="toc-number">3.2.5.</span> <span class="toc-text">Enueration Type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Constants"><span class="toc-number">3.2.6.</span> <span class="toc-text">Constants</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Property"><span class="toc-number">3.2.7.</span> <span class="toc-text">Property</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Instruction-Set"><span class="toc-number">3.3.</span> <span class="toc-text">Instruction Set</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OR-rules"><span class="toc-number">3.3.1.</span> <span class="toc-text">OR rules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AND-Rules"><span class="toc-number">3.3.2.</span> <span class="toc-text">AND Rules</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Describing-pipelines"><span class="toc-number">3.4.</span> <span class="toc-text">Describing pipelines</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/07/02/asip_design_tool/asip_training_processor_modeling/" title="ASIP Designer Processor Modeling"><img src="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ASIP Designer Processor Modeling"/></a><div class="content"><a class="title" href="/2025/07/02/asip_design_tool/asip_training_processor_modeling/" title="ASIP Designer Processor Modeling">ASIP Designer Processor Modeling</a><time datetime="2025-07-03T00:00:00.000Z" title="发表于 2025-07-02 17:00:00">2025-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/01/asip_design_tool/Introduction_to_asip_design/" title="Overview of ASIP design tool"><img src="https://www.synopsys.com/dw/images/ds/asip-designer-flow-diagram.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Overview of ASIP design tool"/></a><div class="content"><a class="title" href="/2025/07/01/asip_design_tool/Introduction_to_asip_design/" title="Overview of ASIP design tool">Overview of ASIP design tool</a><time datetime="2025-07-02T00:20:00.000Z" title="发表于 2025-07-01 17:20:00">2025-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/02/10/aboutMe/" title="Biography"><img src="https://worldline22.github.io/image/pinCover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Biography"/></a><div class="content"><a class="title" href="/2025/02/10/aboutMe/" title="Biography">Biography</a><time datetime="2025-02-10T20:00:00.000Z" title="发表于 2025-02-10 12:00:00">2025-02-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/28/preinfo/" title="写在前面（Preface）"><img src="https://th.bing.com/th/id/R.e69674a9db6acac7483d6a69111df212?rik=zYh7aAR6872GFQ&amp;riu=http%3a%2f%2fn.sinaimg.cn%2fsinacn00%2f605%2fw640h765%2f20180731%2fe839-hhacrcc8311426.jpg&amp;ehk=xCz4PpDP2t62S%2bC30z%2fg0fOXYWHne%2bKz7ly6cmS09Kc%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="写在前面（Preface）"/></a><div class="content"><a class="title" href="/2024/07/28/preinfo/" title="写在前面（Preface）">写在前面（Preface）</a><time datetime="2024-07-29T00:28:35.000Z" title="发表于 2024-07-28 17:28:35">2024-07-28</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Worldline22</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://worldline22.github.io">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script><script>(() => {
  const disqus_config = function () {
    this.page.url = 'http://example.com/2025/07/02/asip_design_tool/asip_training_processor_modeling/'
    this.page.identifier = '/2025/07/02/asip_design_tool/asip_training_processor_modeling/'
    this.page.title = 'ASIP Designer Processor Modeling'
  }

  const disqusReset = () => {
    window.DISQUS && window.DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addGlobalFn('themeChange', disqusReset, 'disqus')

  const loadDisqus = () =>{
    if (window.DISQUS) disqusReset()
    else {
      const script = document.createElement('script')
      script.src = 'https://.disqus.com/embed.js'
      script.setAttribute('data-timestamp', +new Date())
      document.head.appendChild(script)
    }
  }

  const getCount = async() => {
    try {
      const eleGroup = document.querySelector('#post-meta .disqus-comment-count')
      if (!eleGroup) return
      const cleanedLinks = eleGroup.href.replace(/#post-comment$/, '')

      const res = await fetch(`https://disqus.com/api/3.0/threads/set.json?forum=&api_key=&thread:link=${cleanedLinks}`,{
        method: 'GET'
      })
      const result = await res.json()

      const count = result.response.length ? result.response[0].posts : 0
      eleGroup.textContent = count
    } catch (err) {
      console.error(err)
    }
  }

  if ('Valine' === 'Disqus' || !false) {
    if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
    else {
      loadDisqus()
      
    }
  } else {
    window.loadOtherComment = loadDisqus
  }
})()</script><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: 'Ov23liX4NCpV2ZdkGR2S',
      clientSecret: '0704901937de27f01f6057bd2c6c7992f40346a6',
      repo: 'worldline22.github.io.gitalk',
      owner: 'worldline22',
      admin: ['worldline22'],
      id: 'ae60f11c66f2fff25482728bb226976c',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Valine' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>